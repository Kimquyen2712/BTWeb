@using SachOnline.Models
@model List<GioHang>

@{
    ViewBag.Title = "GioHang";
    Layout = "~/Views/Shared/_LayoutUser.cshtml";
}
<div class="product_section layout_padding">
    <div class="container">
        <div class="row">
            <div class="col-sm-12">
                <h1 class="product_taital">THÔNG TIN GIỎ HÀNG</h1>
                <p class="product_text">Đây là những sản phẩm bạn đã thêm vào giỏ hàng</p>
            </div>
        </div>
        <div class="product_section_2 layout_padding">
            <div class="row">
                @{
                    int stt = 1; // Biến đếm số thứ tự
                }
                @foreach (var item in Model)

                {
                    <div class="col-lg-3 col-sm-6">
                        <div class="product_box">
                            <h4 class="bursh_text">@stt</h4>
                            <p class="lorem_text">@item.sTenSach </p>
                            <img src="~/Images/@item.sAnhBia" class="image_1">

                            @using (Html.BeginForm("CapNhatGioHang", "GioHang", new { iMaSach = item.iMaSach }))
                            {


                                <div style="text-align: center;">
                                    <class align="center">
                                        <input type="number" min="1" name="txtSoLuong" value="@item.iSoLuong"
                                               style="background-color:#f4ff94" />
                                    </class><br />
                                    Đơn giá: @string.Format("{0:#,##0,0}", @item.dDongia)<br />
                                    Thành tiền: @string.Format("{0:#,##0,0}", @item.dThanhTien)<br />
                                    <a href="@Url.Action("ChiTietSach", "SachOnline", new { id = item.iMaSach })">Chi tiết</a><br />

                                </div>



                                <div class="btn_main">
                                    <div class="buy_bt">
                                        <ul>
                                            <li class="active">@Html.ActionLink("Xóa", "XoaSPKhoiGioHang", new { @iMaSach = item.iMaSach })</li>
                                            <li><input type="submit" value="Cập nhật" /></li>
                                        </ul>
                                    </div>
                                    <h3 class="price_text">@string.Format("{0:#,##0,0}", @item.dThanhTien)</h3>
                                </div>

                            }@{
                                stt++; // Tăng biến đếm sau mỗi sản phẩm
                            }
                        </div>
                    </div>
                }


            </div>
        </div>
        

        <!-- contact section start -->
        <div class="contact_section layout_padding">
            <div class="container">
                <div class="row">
                    <div class="col-md-6">
                        <h1 class="contact_taital"> Tổng tiền: @string.Format("{0:#,##0,0}", @ViewBag.TongTien) VNĐ</h1>
                        <p class="contact_text"> Tổng số lượng: @string.Format("{0:#,##0,0}", @ViewBag.TongSoLuong) </p>
                    </div>
                    <div class="col-md-6">
                        <div class="contact_main">
                            <div class="contact_bt"> @Html.ActionLink("Xóa giỏ hàng", "XoaGioHang")</div>
                            <div class="newletter_bt"> @Html.ActionLink("ĐẶT HÀNG", "DatHang", "GioHang")</div>
                        </div>
                    </div>
                </div>
            </div>
           
        </div>
        <!-- contact section end -->

</div>
</div>